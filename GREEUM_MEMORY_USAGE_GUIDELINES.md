# Greeum 메모리 사용 지침 (Complete Guidelines)

## 🧠 능동적 메모리 전략 (Active Memory Strategy)

### 핵심 원칙: "진정한 외부 두뇌(Extended Mind)"

Greeum은 단순한 저장소가 아닌 **능동적으로 학습하고 추론하는 외부 두뇌**로 활용되어야 합니다.

### 🔄 자동 메모리 운영 사이클

**1. 사전 검색 (Pre-retrieval)**
- 사용자 질문 받기 전 관련 맥락 자동 검색
- 이전 대화 패턴 및 작업 이력 확인
- 연관 주제나 반복 이슈 사전 파악

**2. 추론 과정 저장 (Reasoning Documentation)**
- 문제 발견 → 즉시 기록
- 분석 과정 → 중간 결과 저장  
- 해결 방안 → 시도한 접근법 기록
- 실패/성공 → 결과와 학습점 누적

**3. 대화 흐름 추적 (Conversation Flow Tracking)**
- 작업 단계별 진행상황
- 컨텍스트 전환점 기록
- 사용자 피드백과 방향 변경사항

**4. 패턴 학습 (Pattern Learning)**
- 반복되는 이슈나 질문 패턴
- 효과적인 해결책과 접근법
- 사용자 선호도와 작업 스타일

## 📝 그레마스 액탄트 모델 기반 기록법

### 저장 단위: 액션 단위 라벨링
모든 메모리 저장은 그레마스 6개 액탄트 역할을 기반으로 **[주체-행동-객체]** 구조로 기록:

**기본 패턴:**
- `[사용자-요청-기능명]` : 사용자가 특정 기능을 요청
- `[Claude-발견-문제상황]` : Claude가 문제나 이슈를 발견
- `[Claude-분석-데이터패턴]` : Claude가 데이터나 패턴을 분석
- `[Claude-제안-해결방안]` : Claude가 해결책이나 개선안을 제안
- `[사용자-승인-전략방향]` : 사용자가 전략이나 방향을 승인
- `[팀-결정-아키텍처변경]` : 팀 차원의 아키텍처 결정

**구체적 예시:**
```
[Claude-발견-TypeScript오류] src/types/session.ts의 processId 타입 불일치 발견
[Claude-분석-MCP도구일관성] get_memory_stats vs add_memory 데이터베이스 경로 참조 차이점 분석
[Claude-추론-성능격차] v2.4.0 vs 원래 설계 285배 성능 목표 미달성 원인 추론
[사용자-승인-능동적메모리] 수동적 메모리 사용을 능동적 전략으로 전환 승인
```

### 저장 빈도: 모든 상호작용은 영구 보존 가치

**기본 원칙**: "모든 작업 단위는 영구 보존 가치가 있다"

**저장 시점:**
- ✅ 사용자 질문/요청마다 저장
- ✅ 도구 사용 결과마다 저장  
- ✅ 문제 발견/해결마다 저장
- ✅ 작업 전환점마다 저장
- ✅ 피드백과 개선사항마다 저장
- ✅ 코드 변경, 설정 수정마다 저장
- ✅ 테스트 결과, 성능 측정마다 저장
- ✅ **추론 과정과 중간 결과마다 저장** (NEW)
- ✅ **대화 맥락 전환점마다 저장** (NEW)
- ✅ **패턴 인식과 학습 내용마다 저장** (NEW)

### 목표 메트릭
- **세션당 블록 수**: 20-30개 (촘촘한 기록)
- **저장 빈도**: 3-5분마다 최소 1회  
- **패턴 누적**: 반복 작업도 미묘한 차이점 포착하여 학습 효과 극대화
- **능동적 검색**: 답변 전 관련 맥락 자동 확인
- **추론 문서화**: 중요한 분석/발견 즉시 기록

## 🛠️ 실제 운영 방법

### 1. 대화 시작 시
```python
# 자동으로 관련 맥락 검색
previous_context = search_memory("현재 작업 주제")
recent_patterns = search_memory("유사한 질문 패턴") 
```

### 2. 추론 과정 중
```python
# 발견사항 즉시 기록
add_memory("[Claude-발견-문제점] 구체적 문제 상황 설명")

# 분석 과정 중간 저장
add_memory("[Claude-분석진행중-데이터패턴] 중간 분석 결과와 방향")
```

### 3. 작업 완료 후
```python
# 최종 결과와 학습점
add_memory("[Claude-완료-작업결과] 달성한 내용과 발견한 개선점")

# 다음 작업을 위한 연결점
add_memory("[Claude-연결-다음단계] 후속 작업 방향과 고려사항")
```

이 방식으로 Greeum은 진정한 **외부 두뇌(Extended Mind)** 역할을 수행하여 지속적인 학습과 개선이 가능한 지능적 메모리 시스템이 됩니다.