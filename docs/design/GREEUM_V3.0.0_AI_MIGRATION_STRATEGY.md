# Greeum v3.0.0: AI ê¸°ë°˜ ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ
## ì™„ì „íˆ ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ë¡œì˜ ì „í™˜

---

## ğŸ”„ **ì œì•ˆëœ ì•„í‚¤í…ì²˜**

```
v2.6.4 (Legacy)          â†’  AI ì¶”ë¡ /í•´ì„  â†’      v3.0.0 (New)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”           â”â”â”â”â”â”â”â”â”â”â”â”           â”â”â”â”â”â”â”â”â”â”â”â”â”
ê¸°ì¡´ ë©”ëª¨ë¦¬ ë¸”ë¡              Claude/LLM             ì•¡íƒ„íŠ¸ êµ¬ì¡°í™”
ììœ  í…ìŠ¤íŠ¸ í˜•ì‹             ì˜ë¯¸ íŒŒì‹±              ì •í˜• ë°ì´í„°
context í•„ë“œë§Œ               ê´€ê³„ ì¶”ë¡               6-actant model
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”           â”â”â”â”â”â”â”â”â”â”â”â”           â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

## âš–ï¸ **íŠ¸ë ˆì´ë“œì˜¤í”„ ë¶„ì„**

### 1. **ì–»ëŠ” ê²ƒ (Gains)**

#### âœ… ì •í™•ë„
- **ììœ ë¡œìš´ ì¬í•´ì„**: AIê°€ ì „ì²´ ë¬¸ë§¥ì„ ë³´ê³  íŒë‹¨
- **ì•”ë¬µì  ì •ë³´ ì¶”ë¡ **: ìƒëµëœ ì£¼ì–´/ëª©ì ì–´ ë³´ì™„
- **ê´€ê³„ ë°œê²¬**: ì—¬ëŸ¬ ë©”ëª¨ë¦¬ ê°„ ìˆ¨ì€ ì—°ê²°ê³ ë¦¬ íŒŒì•…
- **ì¼ê´€ì„±**: ëª¨ë“  ë°ì´í„°ê°€ ë™ì¼í•œ AI ëª¨ë¸ë¡œ ì²˜ë¦¬

#### âœ… ìœ ì—°ì„±
- **ë°˜ë³µ ê°€ëŠ¥**: ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨ì‹œ ì¬ì‹œë„ ê°€ëŠ¥
- **ì ì§„ì  ê°œì„ **: AI ëª¨ë¸ ì—…ê·¸ë ˆì´ë“œì‹œ ì¬ì²˜ë¦¬ ê°€ëŠ¥
- **ì„ íƒì  ë§ˆì´ê·¸ë ˆì´ì…˜**: ì¤‘ìš”í•œ ë©”ëª¨ë¦¬ë¶€í„° ìš°ì„  ì²˜ë¦¬

#### âœ… í’ˆì§ˆ
- **ì˜ë¯¸ ë³´ì¡´**: ë‹¨ìˆœ íŒŒì‹±ì´ ì•„ë‹Œ ì˜ë¯¸ ì´í•´ ê¸°ë°˜
- **ì»¨í…ìŠ¤íŠ¸ í™œìš©**: ì£¼ë³€ ë©”ëª¨ë¦¬ë“¤ê³¼ì˜ ê´€ê³„ ê³ ë ¤
- **ë©”íƒ€ë°ì´í„° ê°•í™”**: AIê°€ ì¶”ê°€ ì •ë³´ ìƒì„± ê°€ëŠ¥

### 2. **ìƒëŠ” ê²ƒ (Losses)**

#### âŒ ë¹„ìš©
- **API ë¹„ìš©**: 247ê°œ ë©”ëª¨ë¦¬ Ã— $0.01 â‰ˆ $2.47 (ì´ˆê¸°)
- **ì¼ì¼ ìš´ì˜**: 50ê°œ/ì¼ Ã— $0.01 â‰ˆ $0.50/ì¼
- **ì›” ë¹„ìš©**: ~$15-20 ì˜ˆìƒ

#### âŒ ì†ë„
- **ì´ˆê¸° ë§ˆì´ê·¸ë ˆì´ì…˜**: 2-3ì‹œê°„ ì†Œìš” (Rate limit)
- **ì‹¤ì‹œê°„ ì²˜ë¦¬**: ê° ë©”ëª¨ë¦¬ë‹¹ 1-2ì´ˆ ì§€ì—°
- **ë°°ì¹˜ ì²˜ë¦¬ í•„ìš”**: API ì œí•œìœ¼ë¡œ ì¸í•œ ëŒ€ê¸°

#### âŒ ì˜ì¡´ì„±
- **ì¸í„°ë„· ì—°ê²° í•„ìˆ˜**: ì˜¤í”„ë¼ì¸ ì‘ë™ ë¶ˆê°€
- **API ì•ˆì •ì„±**: ì„œë¹„ìŠ¤ ì¥ì• ì‹œ ê¸°ëŠ¥ ì •ì§€
- **ëª¨ë¸ ë³€ê²½ ë¦¬ìŠ¤í¬**: GPT/Claude ë™ì‘ ë³€ê²½ì‹œ ì˜í–¥

#### âŒ ì œì–´ê¶Œ
- **ê²°ì •ë¡ ì ì´ì§€ ì•ŠìŒ**: ê°™ì€ ì…ë ¥ë„ ë‹¤ë¥¸ ê²°ê³¼ ê°€ëŠ¥
- **ë””ë²„ê¹… ì–´ë ¤ì›€**: AI íŒë‹¨ ê³¼ì • ë¶ˆíˆ¬ëª…
- **ìˆ˜ì • ì œí•œ**: íŒŒì‹± ë¡œì§ ì§ì ‘ ìˆ˜ì • ë¶ˆê°€

---

## ğŸ› ï¸ **ë³´ì™„ ë°©ì•ˆ**

### 1. **í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼**

```python
class HybridMemorySystem:
    """v2.6.4ì™€ v3.0.0 ë™ì‹œ ìš´ì˜"""
    
    def __init__(self):
        self.legacy_db = "data/memory.db"      # ì›ë³¸ ë³´ì¡´
        self.new_db = "data/memory_v3.db"      # ìƒˆ êµ¬ì¡°
        self.cache_db = "data/memory_cache.db" # íŒŒì‹± ìºì‹œ
    
    async def get_memory(self, memory_id: int):
        # 1. v3.0.0ì—ì„œ ë¨¼ì € ì¡°íšŒ
        v3_memory = self.get_from_v3(memory_id)
        if v3_memory:
            return v3_memory
        
        # 2. ì—†ìœ¼ë©´ v2.6.4ì—ì„œ ì¡°íšŒ
        v2_memory = self.get_from_legacy(memory_id)
        if not v2_memory:
            return None
        
        # 3. AI íŒŒì‹± (ìºì‹œ í™•ì¸)
        if cached := self.get_from_cache(memory_id):
            return cached
        
        # 4. ìƒˆë¡œ íŒŒì‹±í•˜ê³  ìºì‹œ
        parsed = await self.ai_parse(v2_memory)
        self.save_to_cache(memory_id, parsed)
        
        return parsed
```

### 2. **ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜**

```python
class ProgressiveMigration:
    """ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ë‹¨ê³„ì  ë§ˆì´ê·¸ë ˆì´ì…˜"""
    
    phases = [
        # Phase 1: ìµœê·¼ 30ì¼ ë©”ëª¨ë¦¬
        {"filter": "recent_days", "value": 30},
        
        # Phase 2: ì¤‘ìš”ë„ 0.7 ì´ìƒ
        {"filter": "importance", "value": 0.7},
        
        # Phase 3: ìì£¼ ì ‘ê·¼í•˜ëŠ” ë©”ëª¨ë¦¬
        {"filter": "access_count", "value": 5},
        
        # Phase 4: ë‚˜ë¨¸ì§€
        {"filter": "remaining", "value": None}
    ]
```

### 3. **í´ë°± ë©”ì»¤ë‹ˆì¦˜**

```python
class FallbackSystem:
    """AI ì‹¤íŒ¨ì‹œ ëŒ€ì²´ ë°©ì•ˆ"""
    
    async def parse_memory(self, text: str):
        try:
            # 1ì°¨: AI íŒŒì‹±
            return await self.ai_parse(text)
        except AIUnavailable:
            # 2ì°¨: ë¡œì»¬ ê°œì„  íŒŒì„œ
            return self.local_parse_v2(text)
        except:
            # 3ì°¨: ê¸°ë³¸ êµ¬ì¡°ë§Œ
            return {
                "subject": None,
                "action": None,
                "object": text,  # ì „ì²´ë¥¼ objectë¡œ
                "confidence": 0.1
            }
```

### 4. **í’ˆì§ˆ ê²€ì¦ ì‹œìŠ¤í…œ**

```python
class QualityValidator:
    """AI íŒŒì‹± ê²°ê³¼ ê²€ì¦"""
    
    def validate_parsing(self, original: str, parsed: Dict) -> bool:
        # 1. ì •ë³´ ì†ì‹¤ ì²´í¬
        if not self.contains_key_info(original, parsed):
            return False
        
        # 2. ë…¼ë¦¬ì  ì¼ê´€ì„±
        if not self.is_logically_consistent(parsed):
            return False
        
        # 3. ì‹ ë¢°ë„ ì„ê³„ê°’
        if parsed.get('confidence', 0) < 0.5:
            return False
        
        return True
    
    def human_review_needed(self, parsed: Dict) -> bool:
        """ì¸ê°„ ê²€í†  í•„ìš” ì—¬ë¶€"""
        return (
            parsed['confidence'] < 0.7 or
            parsed['subject'] is None or
            'ambiguous' in parsed.get('metadata', {})
        )
```

---

## ğŸ“‹ **êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸**

### Phase 1: ê¸°ë°˜ êµ¬ì¶• (Week 1)
- [ ] v3.0.0 ì „ìš© ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
- [ ] AI íŒŒì‹± ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
- [ ] ìºì‹± ì‹œìŠ¤í…œ êµ¬ì¶•
- [ ] í´ë°± ë©”ì»¤ë‹ˆì¦˜

### Phase 2: ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬ (Week 2)
- [ ] ë°°ì¹˜ ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸
- [ ] ì§„í–‰ìƒí™© ëª¨ë‹ˆí„°ë§
- [ ] ê²€ì¦ ë„êµ¬
- [ ] ë¡¤ë°± ê¸°ëŠ¥

### Phase 3: ì‹¤ì‹œê°„ ì²˜ë¦¬ (Week 3)
- [ ] ìƒˆ ë©”ëª¨ë¦¬ ìë™ íŒŒì‹±
- [ ] MCP ë„êµ¬ í†µí•©
- [ ] ì‹¤ì‹œê°„ í´ë°±
- [ ] ì„±ëŠ¥ ìµœì í™”

---

## ğŸ¯ **í•µì‹¬ ê²°ì • ì‚¬í•­**

### 1. **ë°ì´í„°ë² ì´ìŠ¤ ì „ëµ**
```
ì˜µì…˜ A: ì™„ì „ ë¶„ë¦¬ (ê¶Œì¥)
- v2.6.4: memory.db (ì½ê¸° ì „ìš©)
- v3.0.0: memory_v3.db (ì½ê¸°/ì“°ê¸°)
- ì¥ì : ê¹¨ë—í•œ ë¶„ë¦¬, ë¡¤ë°± ì‰¬ì›€
- ë‹¨ì : ì €ì¥ ê³µê°„ 2ë°°

ì˜µì…˜ B: í†µí•© ê´€ë¦¬
- ë‹¨ì¼ DBì— v2/v3 í…Œì´ë¸” ê³µì¡´
- ì¥ì : ê³µê°„ íš¨ìœ¨ì 
- ë‹¨ì : ë³µì¡ë„ ì¦ê°€, ë¡¤ë°± ì–´ë ¤ì›€
```

### 2. **AI ëª¨ë¸ ì„ íƒ**
```
ì˜µì…˜ A: Claude (via MCP)
- ì¥ì : í†µí•© ì‰¬ì›€, ì»¨í…ìŠ¤íŠ¸ ê³µìœ 
- ë‹¨ì : MCP ì˜ì¡´ì„±

ì˜µì…˜ B: ì „ìš© íŒŒì‹± ëª¨ë¸
- ì¥ì : ìµœì í™” ê°€ëŠ¥, ë¹ ë¥¸ ì†ë„
- ë‹¨ì : ë³„ë„ ê´€ë¦¬ í•„ìš”
```

### 3. **ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œì **
```
ì˜µì…˜ A: Lazy Loading
- ì ‘ê·¼ì‹œë§ˆë‹¤ í•„ìš”í•œ ê²ƒë§Œ íŒŒì‹±
- ì¥ì : ì´ˆê¸° ë¶€ë‹´ ì—†ìŒ
- ë‹¨ì : ì²« ì ‘ê·¼ ì§€ì—°

ì˜µì…˜ B: Batch Migration
- ëª¨ë“  ë°ì´í„° ì¼ê´„ ë³€í™˜
- ì¥ì : ì¼ê´€ì„±, ì˜ˆì¸¡ ê°€ëŠ¥
- ë‹¨ì : ì´ˆê¸° ì‹œê°„/ë¹„ìš©
```

---

## ğŸ’¡ **ì¶”ì²œ êµ¬í˜„ ë°©í–¥**

1. **v3.0.0 ì „ìš© DB ìƒì„±** (memory_v3.db)
2. **Lazy + Batch í˜¼í•©**: ì¤‘ìš” ë©”ëª¨ë¦¬ëŠ” ë¯¸ë¦¬, ë‚˜ë¨¸ì§€ëŠ” í•„ìš”ì‹œ
3. **3ë‹¨ê³„ í´ë°±**: AI â†’ ë¡œì»¬íŒŒì„œ â†’ Rawì €ì¥
4. **ìºì‹± í•„ìˆ˜**: í•œ ë²ˆ íŒŒì‹±í•œ ê²°ê³¼ëŠ” ë³´ì¡´
5. **Human-in-the-loop**: ë‚®ì€ ì‹ ë¢°ë„ëŠ” ì‚¬ìš©ì í™•ì¸

ì´ ë°©ì‹ì´ë©´:
- âœ… ê¸°ì¡´ ë°ì´í„° ì™„ë²½ ë³´ì¡´
- âœ… ì ì§„ì  í’ˆì§ˆ ê°œì„ 
- âœ… AI ì¥ì• ì‹œë„ ì‘ë™
- âœ… ë¹„ìš© í†µì œ ê°€ëŠ¥
- âœ… ì–¸ì œë“  ë¡¤ë°± ê°€ëŠ¥