[tox]
minversion = 4.0
envlist = py310, py311, py312, fast, slow, performance, integration
isolated_build = True

[testenv]
deps =
    -r requirements.txt
    pytest
    pytest-asyncio
commands = pytest -q 

[testenv:fast]
deps =
    -r requirements.txt
    pytest
    pytest-asyncio
commands = pytest -m "fast" -v --tb=short

[testenv:slow]
deps =
    -r requirements.txt
    pytest
    pytest-asyncio
commands = pytest -m "slow" -v --tb=short

[testenv:performance]
deps =
    -r requirements.txt
    pytest
    pytest-asyncio
commands = pytest -m "performance" -v --tb=short

[testenv:integration]
deps =
    -r requirements.txt
    pytest
    pytest-asyncio
commands = pytest -m "integration" -v --tb=short

[testenv:bench]
commands = python scripts/bench_smoke.py --quick 