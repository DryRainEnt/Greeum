# 🚀 Greeum 빠른 피드백 루프 가이드

**목표**: 30초 내 실패 감지, 3분 내 성공 확인으로 빠른 개발 사이클 구현

## 📋 빠른 피드백 시스템 구성

### 🏃‍♂️ **로컬 검증** (30초 이내)
```bash
# 로컬에서 빠른 사전 검증
python scripts/local_quick_test.py

# 결과:
# ✅ 통과: GitHub Actions 실행 준비 완료
# ❌ 실패: 수정 후 재실행
```

### ⚡ **GitHub Actions 3단계 파이프라인**

#### 1단계: 초고속 검증 (30초)
- **구문 검사**: Python 컴파일 오류
- **임포트 테스트**: 모듈 로딩 확인  
- **기본 기능**: 핵심 함수 동작 확인
- **빠른 보안 스캔**: 위험 패턴 체크

#### 2단계: 표준 검증 (3분) - 1단계 성공 시에만
- **유닛 테스트**: 핵심 기능별 테스트
- **통합 테스트**: CLI, MCP, DB 연동
- **보안 테스트**: 악성 입력 처리
- **성능 체크**: regression 감지

#### 3단계: 심화 검증 (10분) - 수동 트리거 또는 main 브랜치
- **미니 스트레스 테스트**: 1000개 블록 처리
- **메모리 누수 체크**: 5분간 반복 작업
- **의존성 보안 스캔**: 취약점 검사

## 🔄 개발 워크플로우

### 일반적인 개발 사이클
```bash
# 1. 로컬에서 빠른 검증 (30초)
python scripts/local_quick_test.py

# 2. 성공하면 커밋 & 푸시
git add .
git commit -m "feat: your changes"
git push

# 3. GitHub Actions 자동 실행
#    - 30초 후: 초고속 검증 결과
#    - 3분 후: 표준 검증 결과 (성공 시)
```

### 디버깅 사이클 (실패 시)
```bash
# 1. 로컬 실패 → 즉시 수정
python scripts/local_quick_test.py  # 30초 내 결과
# ❌ Import Test 실패 → 임포트 오류 수정

# 2. 수정 후 재검증
python scripts/local_quick_test.py  # 다시 30초
# ✅ 모든 테스트 통과

# 3. GitHub Actions도 빠르게 통과
git push  # 30초-3분 내 결과 확인
```

## 🛠️ 빠른 피드백을 위한 최적화

### 캐시 활용
- **pip 캐시**: 의존성 설치 시간 단축
- **Python 설정 캐시**: 환경 구성 시간 단축

### 조기 실패 (Fail Fast)
- **구문 오류**: 5초 내 감지
- **임포트 오류**: 5초 내 감지
- **기본 기능 오류**: 10초 내 감지

### 병렬 실행
- **단계별 의존성**: 이전 단계 성공 시에만 다음 단계
- **불필요한 테스트 스킵**: 실패 시 심화 테스트 생략

## 📊 피드백 시간 최적화 결과

| 시나리오 | 기존 시간 | 최적화 후 | 개선율 |
|----------|-----------|-----------|--------|
| **구문 오류** | 5-10분 | 30초 | 90% 단축 |
| **임포트 실패** | 5-10분 | 30초 | 90% 단축 |
| **기본 기능 오류** | 10-15분 | 1분 | 90% 단축 |
| **전체 테스트 성공** | 15-20분 | 3분 | 85% 단축 |

## 🎯 사용 시나리오별 가이드

### 🟢 **빠른 수정** (구문 오류, 임포트 오류)
```bash
# 로컬 검증 → 즉시 수정 → 푸시
python scripts/local_quick_test.py  # 30초
# 수정
git push  # 30초 후 결과
```

### 🟡 **일반 개발** (기능 추가, 버그 수정)
```bash
# 로컬 검증 → 푸시 → 표준 검증 대기
python scripts/local_quick_test.py  # 30초
git push  # 3분 후 결과
```

### 🔴 **중요 변경** (아키텍처 수정, 대규모 리팩토링)
```bash
# 로컬 검증 → 푸시 → 심화 검증 수동 실행
python scripts/local_quick_test.py  # 30초
git push
# GitHub에서 "Fast Feedback Loop" 워크플로우 수동 실행 (Full 옵션)
```

## 🔧 GitHub Actions 수동 실행

### 워크플로우 수동 트리거
1. **GitHub 리포지토리** → **Actions** 탭
2. **"Fast Feedback Loop"** 워크플로우 선택
3. **"Run workflow"** 클릭
4. **옵션 선택**:
   - `Test Level`: quick/standard/full
   - `Debug Mode`: 체크 시 자세한 디버그 정보

### 실행 옵션
- **quick**: 30초 내 기본 검증만
- **standard**: 3분 내 표준 검증까지
- **full**: 10분 내 심화 검증까지

## 📈 결과 모니터링

### GitHub Actions Summary
- **실시간 진행 상황**: 각 단계별 실시간 업데이트
- **상세 결과**: 테스트별 성공/실패 상태
- **성능 지표**: 실행 시간, 메모리 사용량
- **다음 단계 가이드**: 실패 시 수정 방향 제시

### 실패 시 디버그 정보
- **시스템 정보**: OS, Python 버전, 의존성
- **오류 상세**: 스택 트레이스, 로그
- **추천 수정 방향**: 구체적인 해결 방법

## 💡 베스트 프랙티스

### 로컬 우선 원칙
```bash
# ❌ 나쁜 패턴: 바로 푸시
git push  # 5-10분 후 실패 발견

# ✅ 좋은 패턴: 로컬 검증 후 푸시
python scripts/local_quick_test.py  # 30초 검증
git push  # 30초-3분 내 성공 확인
```

### 점진적 검증
1. **로컬 검증** (30초) → 기본 오류 제거
2. **초고속 검증** (30초) → CI 환경 호환성
3. **표준 검증** (3분) → 완전한 기능 테스트
4. **심화 검증** (10분) → 프로덕션 준비 확인

### 반복 개선
- **실패 패턴 분석**: 자주 실패하는 부분 우선 수정
- **로컬 테스트 확장**: 발견된 문제를 로컬 테스트에 추가
- **피드백 시간 단축**: 지속적인 최적화

---

**🎯 목표 달성**: 30초 내 실패 감지, 3분 내 성공 확인으로 **10배 빠른 개발 사이클** 구현!